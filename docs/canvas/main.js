var w0=Object.create;var{getPrototypeOf:b0,defineProperty:_0,getOwnPropertyNames:y0}=Object;var u0=Object.prototype.hasOwnProperty;var g0=(z,Z,o)=>{o=z!=null?w0(b0(z)):{};let A=Z||!z||!z.__esModule?_0(o,"default",{value:z,enumerable:!0}):o;for(let $ of y0(z))if(!u0.call(A,$))_0(A,$,{get:()=>z[$],enumerable:!0});return A};var v0=((z)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy(z,{get:(Z,o)=>(typeof require!=="undefined"?require:Z)[o]}):z)(function(z){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+z+'" is not supported')});var s=[];function o0(z){if(!s.some((Z)=>Z.name===z.name))s.push(z)}class K{static instance=null;static MARGIN={left:55,right:10,top:8,bottom:45};static HOVER_MAX_DISTANCE_PX=50;static MIN_ZOOM=0.1;static MAX_ZOOM=1e7;static DEFAULT_LABEL_SIZE=12;static DEFAULT_FONT='-apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif';static resizeCanvas(z,Z,o){let A=devicePixelRatio||1;if(z.width=Math.round(Z*A),z.height=Math.round(o*A),z instanceof HTMLCanvasElement)z.style.width=`${Z}px`,z.style.height=`${o}px`}worker=null;charts=new Map;chartIdCounter=0;_syncViews=!1;_isDark=!1;statsCallbacks=[];currentStats={fps:0,renderMs:0,total:0,active:0};visibilityObserver;resizeObserver;constructor(){this._isDark=document.documentElement.classList.contains("dark"),this.visibilityObserver=new IntersectionObserver((z)=>{for(let Z of z){let o=Z.target.dataset.chartId;if(o){let A=this.charts.get(o);if(A){if(A.visible=Z.isIntersecting,this.worker?.postMessage({type:"set-visibility",id:o,visible:Z.isIntersecting}),Z.isIntersecting)this.drawChart(A)}}}},{threshold:0.01}),this.resizeObserver=new ResizeObserver((z)=>{for(let Z of z){let o=Z.target.dataset.chartId;if(!o)continue;let A=this.charts.get(o);if(!A)continue;let{width:$,height:B}=Z.contentRect;if($<=0||B<=0)continue;A.width=$,A.height=B;let V=devicePixelRatio||1;this.worker?.postMessage({type:"resize",id:o,width:Math.round($*V),height:Math.round(B*V)}),K.resizeCanvas(A.backCanvas,$,B),K.resizeCanvas(A.axisCanvas,$,B),this.drawChart(A)}})}static getInstance(){if(!K.instance)K.instance=new K;return K.instance}get isDark(){return this._isDark}get syncViews(){return this._syncViews}async init(){if(this.worker)return!0;return new Promise((z)=>{import("./worker-inline.js").then(({WORKER_CODE:Z})=>{let o=new Blob([Z],{type:"application/javascript"}),A=URL.createObjectURL(o);this.worker=new Worker(A,{type:"module"}),this.setupWorkerHandlers(z)}).catch(()=>{let Z=new URL("./gpu-worker.js",import.meta.url);this.worker=new Worker(Z,{type:"module"}),this.setupWorkerHandlers(z)})})}setupWorkerHandlers(z){if(!this.worker)return;this.worker.onmessage=(Z)=>{let{type:o,...A}=Z.data;switch(o){case"gpu-ready":z(!0);break;case"error":console.error("ChartManager GPU Error:",A.message),z(!1);break;case"stats":this.currentStats={fps:A.fps,renderMs:A.renderMs,total:A.totalCharts,active:A.activeCharts};for(let $ of this.statsCallbacks)$(this.currentStats);break;case"bounds-update":{let $=this.charts.get(A.id);if($)$.bounds={minX:A.minX,maxX:A.maxX,minY:A.minY,maxY:A.maxY},this.drawChart($);break}default:break}},this.worker.onerror=(Z)=>{console.error("ChartManager Worker Error:",Z),z(!1)},this.worker.postMessage({type:"init",isDark:this._isDark})}create(z){if(!this.worker)throw new Error("ChartManager not initialized. Call init() first.");let Z=`chart-${++this.chartIdCounter}`,o=document.createElement("div");o.dataset.chartId=Z,o.style.cssText="width: 100%; height: 100%; position: relative;";let A=document.createElement("div");A.dataset.chartId=Z,A.style.cssText="width: 100%; height: 100%; position: relative;";let $=document.createElement("canvas");$.style.cssText="position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none;";let B=document.createElement("canvas");B.style.cssText="position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: auto; z-index: 1;";let V=document.createElement("canvas");V.style.cssText="position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none; z-index: 2;",A.appendChild($),A.appendChild(B),A.appendChild(V),o.appendChild(A),z.container.appendChild(o);let q;try{q=B.transferControlToOffscreen()}catch(M){throw console.error(`ChartManager: Failed to create offscreen canvas for ${Z}:`,M),new Error(`Failed to create chart ${Z}: ${M}`)}let L=A.getBoundingClientRect(),Y=L.width||400,Q=L.height||200;if(K.resizeCanvas(q,Y,Q),K.resizeCanvas($,Y,Q),K.resizeCanvas(V,Y,Q),z.bgColor){let[M,N,G]=z.bgColor;A.style.background=`rgb(${Math.round(M*255)},${Math.round(N*255)},${Math.round(G*255)})`}let J={id:Z,config:z,el:o,backCanvas:$,axisCanvas:V,width:Y,height:Q,series:[],bounds:{minX:0,maxX:1,minY:0,maxY:1},view:{panX:0,panY:0,zoomX:1,zoomY:1},zoomMode:z.zoomMode||"both",visible:!0,dragging:!1,bgColor:z.bgColor,textColor:z.textColor,gridColor:z.gridColor,fontFamily:z.fontFamily,momentum:null,findNearestPoint(M,N,G,X){if(this.series.length===0)return null;let U=M/G,u=N/X,b=this.bounds.maxX-this.bounds.minX,f=this.bounds.maxY-this.bounds.minY,_=b/this.view.zoomX,S=f/this.view.zoomY,H=this.bounds.minX+this.view.panX*b,O=this.bounds.minY+this.view.panY*f,I=H+U*_,P=O+(1-u)*S,T=-1,m=-1,D=1/0,k=1/0;for(let c=0;c<this.series.length;c++){let i=this.series[c],Z0=i.rawX.length;if(Z0===0)continue;let g=0,p=Z0-1;while(g<p){let t=g+p>>1;if(i.rawX[t]<I)g=t+1;else p=t}let $0=g;if(g>0){let t=Math.abs(i.rawX[g]-I);if(Math.abs(i.rawX[g-1]-I)<t)$0=g-1}let Y0=Math.abs(i.rawX[$0]-I),G0=Math.abs(i.rawY[$0]-P);if(Y0<D||Y0===D&&G0<k)D=Y0,k=G0,T=c,m=$0}if(T===-1)return null;let R=this.series[T],d=(R.rawX[m]-H)/_*G;if(Math.abs(d-M)>K.HOVER_MAX_DISTANCE_PX)return null;return{x:R.rawX[m],y:R.rawY[m],index:m,screenX:M,screenY:N,seriesIndex:T,seriesLabel:R.label}}};this.charts.set(Z,J);let j=z.type==="bar"?"box":z.type;this.worker.postMessage({type:"register-chart",id:Z,canvas:q,chartType:j,pointSize:z.pointSize??3,maxSamplesPerPixel:z.maxSamplesPerPixel??1e4,bgColor:z.bgColor??null},[q]),this.visibilityObserver.observe(o),this.resizeObserver.observe(A);for(let M of s)M.install?.(J,A);return this.updateSeries(Z,z.series),Z}destroy(z){let Z=this.charts.get(z);if(!Z)return;for(let A of s)A.uninstall?.(Z);if(Z.momentum)cancelAnimationFrame(Z.momentum);this.visibilityObserver.unobserve(Z.el);let o=Z.el.querySelector(".gpu-chart-canvas-wrap");if(o)this.resizeObserver.unobserve(o);Z.el.remove(),this.worker?.postMessage({type:"unregister-chart",id:z}),this.charts.delete(z)}updateSeries(z,Z){let o=this.charts.get(z);if(!o||!this.worker)return;if(Z.length===0)return;o.series=Z.map((J)=>{let j=J.x.length;if(j===0)return{label:J.label,color:J.color,rawX:[],rawY:[]};let M=Array.from({length:j},(N,G)=>G);return M.sort((N,G)=>J.x[N]-J.x[G]),{label:J.label,color:J.color,rawX:M.map((N)=>J.x[N]),rawY:M.map((N)=>J.y[N])}});let A=1/0,$=-1/0,B=1/0,V=-1/0;for(let J of o.series)for(let j=0;j<J.rawX.length;j++){if(J.rawX[j]<A)A=J.rawX[j];if(J.rawX[j]>$)$=J.rawX[j];if(J.rawY[j]<B)B=J.rawY[j];if(J.rawY[j]>V)V=J.rawY[j]}let q=($-A)*0.05||1,L=(V-B)*0.1||1;A-=q,$+=q,B-=L,V+=L;let Y=o.config.defaultBounds;if(Y){if(Y.minX!==void 0)A=Y.minX;if(Y.maxX!==void 0)$=Y.maxX;if(Y.minY!==void 0)B=Y.minY;if(Y.maxY!==void 0)V=Y.maxY}o.bounds={minX:A,maxX:$,minY:B,maxY:V};let Q=o.series.map((J)=>({label:J.label,colorR:J.color.r,colorG:J.color.g,colorB:J.color.b,dataX:new Float32Array(J.rawX),dataY:new Float32Array(J.rawY)}));this.worker.postMessage({type:"update-series",id:z,series:Q,bounds:o.bounds},Q.flatMap((J)=>[J.dataX.buffer,J.dataY.buffer])),this.sendViewTransform(o),this.drawChart(o)}setPointSize(z,Z){if(!this.charts.get(z))return;this.worker?.postMessage({type:"set-point-size",id:z,pointSize:Math.max(1,Math.min(8,Math.round(Z)))})}setMaxSamplesPerPixel(z,Z){if(!this.charts.get(z))return;this.worker?.postMessage({type:"set-max-samples",id:z,maxSamplesPerPixel:Math.max(0,Z|0)})}setStyle(z,Z){let o=this.charts.get(z);if(!o)return;if(Z.bgColor!==void 0)o.bgColor=Z.bgColor;if(Z.textColor!==void 0)o.textColor=Z.textColor;if(Z.gridColor!==void 0)o.gridColor=Z.gridColor;if(Z.fontFamily!==void 0)o.fontFamily=Z.fontFamily;if(Z.bgColor!==void 0){let A=o.el.querySelector(".gpu-chart-canvas-wrap");if(A){let[$,B,V]=Z.bgColor;A.style.background=`rgb(${Math.round($*255)},${Math.round(B*255)},${Math.round(V*255)})`}this.worker?.postMessage({type:"set-style",id:z,bgColor:Z.bgColor})}this.drawChart(o)}setZoomMode(z,Z){let o=this.charts.get(z);if(o)o.zoomMode=Z}getChartCount(){return this.charts.size}getZoomMode(z){return this.charts.get(z)?.zoomMode||"both"}setSyncViews(z){this._syncViews=z}setTheme(z){this._isDark=z,this.worker?.postMessage({type:"theme",isDark:z});for(let Z of this.charts.values())this.drawChart(Z)}onStats(z){return this.statsCallbacks.push(z),()=>{let Z=this.statsCallbacks.indexOf(z);if(Z>=0)this.statsCallbacks.splice(Z,1)}}getStats(){return{...this.currentStats}}resetView(z){let Z=this.charts.get(z);if(!Z)return;if(Z.momentum)cancelAnimationFrame(Z.momentum),Z.momentum=null;let o=Z.view.panX,A=Z.view.panY,$=Z.view.zoomX,B=Z.view.zoomY,V=performance.now(),q=()=>{let L=Math.min(1,(performance.now()-V)/300),Y=1-Math.pow(1-L,3);if(Z.view.panX=o*(1-Y),Z.view.panY=A*(1-Y),Z.view.zoomX=$+(1-$)*Y,Z.view.zoomY=B+(1-B)*Y,this.sendViewTransform(Z),this.drawChart(Z),this._syncViews)this.syncAllViews(Z);if(L<1)requestAnimationFrame(q)};requestAnimationFrame(q)}sendViewTransform(z){this.worker?.postMessage({type:"view-transform",id:z.id,panX:z.view.panX,panY:z.view.panY,zoomX:z.view.zoomX,zoomY:z.view.zoomY})}syncAllViews(z){let Z=[];for(let o of this.charts.values())if(o.id!==z.id)o.view={...z.view},Z.push({id:o.id}),this.drawChart(o);if(Z.length>0)this.worker?.postMessage({type:"batch-view-transform",panX:z.view.panX,panY:z.view.panY,zoomX:z.view.zoomX,zoomY:z.view.zoomY,transforms:Z})}drawChart(z){if(!z.visible)return;let Z=devicePixelRatio||1,o=z.backCanvas.getContext("2d");if(o){o.clearRect(0,0,z.backCanvas.width,z.backCanvas.height),o.save(),o.scale(Z,Z);for(let $ of s)$.beforeDraw?.(o,z);o.restore()}let A=z.axisCanvas.getContext("2d");if(A){A.clearRect(0,0,z.axisCanvas.width,z.axisCanvas.height),A.save(),A.scale(Z,Z);for(let $ of s)$.afterDraw?.(A,z);A.restore()}}}var V0=(z,Z,o)=>{let A=Z-z;if(A<=0)return[z];let $=A/o,B=10**Math.floor(Math.log10($)),V=$/B,q=B*(V<=1.5?1:V<=3?2:V<=7?5:10),L=[];for(let Y=Math.ceil(z/q)*q;Y<=Z;Y+=q)L.push(Y);return L},N0=(z)=>{let Z=K.getInstance(),o=z.width,A=z.height,$=K.MARGIN,{bounds:B,view:V}=z,q=B.maxX-B.minX,L=B.maxY-B.minY,Y=q/V.zoomX,Q=L/V.zoomY,J=B.minX+V.panX*q,j=B.minY+V.panY*L,M=z.bgColor??(Z.isDark?[0.11,0.11,0.12]:[0.98,0.98,0.98]);return{w:o,h:A,m:$,rx:Y,ry:Q,mx:J,my:j,bg:`${Math.round(M[0]*255)},${Math.round(M[1]*255)},${Math.round(M[2]*255)}`,font:z.fontFamily??K.DEFAULT_FONT,text:z.textColor??(Z.isDark?"#c0c0c0":"#333333"),grid:z.gridColor??(Z.isDark?"rgba(255,255,255,0.06)":"rgba(0,0,0,0.06)")}},R0={name:"labels",beforeDraw(z,Z){let{w:o,h:A,m:$,rx:B,ry:V,mx:q,my:L,grid:Y}=N0(Z);z.strokeStyle=Y,z.lineWidth=1,z.beginPath(),V0(L,L+V,7).forEach((Q)=>{let J=A*(1-(Q-L)/V);if(J>5&&J<A-$.bottom-5)z.moveTo($.left,J),z.lineTo(o,J)}),V0(q,q+B,8).forEach((Q)=>{let J=o*((Q-q)/B);if(J>$.left&&J<o)z.moveTo(J,0),z.lineTo(J,A-$.bottom)}),z.stroke()},afterDraw(z,Z){let{w:o,h:A,m:$,rx:B,ry:V,mx:q,my:L,bg:Y,font:Q,text:J}=N0(Z),{formatX:j=String,formatY:M=String,labelSize:N=K.DEFAULT_LABEL_SIZE}=Z.config,G=(X,U,u,b,f)=>{let _=X==="left"?z.createLinearGradient(U,0,U+b,0):z.createLinearGradient(0,u,0,u+f),S=X==="left"?[1,0.7,0.2,0.05,0]:[0,0.05,0.2,0.7,1];[0,0.35,0.55,0.7,1].forEach((H,O)=>_.addColorStop(H,`rgba(${Y},${S[O]})`)),z.fillStyle=_,z.fillRect(U,u,b,f)};G("left",0,0,$.left+20,A),G("bottom",0,A-$.bottom-20,o,$.bottom+20),z.font=`${N}px ${Q}`,z.fillStyle=J,z.textAlign="right",z.textBaseline="middle",V0(L,L+V,7).forEach((X)=>{let U=A*(1-(X-L)/V);if(U>5&&U<A-$.bottom-5)z.fillText(M(X),$.left-5,U)}),z.textAlign="right",z.textBaseline="top",V0(q,q+B,8).forEach((X)=>{let U=o*((X-q)/B);if(U<$.left-10||U>o+30)return;z.save(),z.translate(U,A-$.bottom+5),z.rotate(-Math.PI/14),z.fillText(j(X),0,0),z.restore()})}};function U0(z={}){let Z=z.momentumDecay??0.91,o=new WeakMap;return{name:"zoom",install(A,$){let B=K.getInstance(),V=new AbortController,q={lastX:0,lastY:0,velX:0,velY:0,abort:V};o.set(A,q);let L=[],Y=0,Q=0,J=1,j=1,M=0.5,N=0.5,G=()=>{if(B.sendViewTransform(A),B.drawChart(A),B.syncViews)B.syncAllViews(A)},X=()=>{if(A.momentum)cancelAnimationFrame(A.momentum);let f=()=>{if(q.velX*=Z,q.velY*=Z,Math.abs(q.velX)>0.00005||Math.abs(q.velY)>0.00005){if(A.zoomMode!=="none"&&(A.zoomMode==="both"||A.zoomMode==="x-only"))A.view.panX-=q.velX/A.view.zoomX;if(A.zoomMode!=="none"&&(A.zoomMode==="both"||A.zoomMode==="y-only"))A.view.panY+=q.velY/A.view.zoomY;G(),A.momentum=requestAnimationFrame(f)}else A.momentum=null};A.momentum=requestAnimationFrame(f)},U=()=>{if(A.dragging)A.dragging=!1,L=[]};$.addEventListener("pointerdown",(f)=>{if(A.momentum)cancelAnimationFrame(A.momentum),A.momentum=null;if(L.push(f),$.setPointerCapture(f.pointerId),L.length===1)A.dragging=!0,q.lastX=f.clientX,q.lastY=f.clientY,q.velX=q.velY=0,Y=performance.now();else if(L.length===2){let _=$.getBoundingClientRect(),S=L[1].clientX-L[0].clientX,H=L[1].clientY-L[0].clientY;Q=Math.hypot(S,H),J=A.view.zoomX,j=A.view.zoomY,M=((L[0].clientX+L[1].clientX)/2-_.left)/_.width,N=1-((L[0].clientY+L[1].clientY)/2-_.top)/_.height}},{signal:V.signal}),$.addEventListener("pointermove",(f)=>{let _=L.findIndex((S)=>S.pointerId===f.pointerId);if(_>=0)L[_]=f;if(L.length===1&&A.dragging){let S=$.getBoundingClientRect(),H=(f.clientX-q.lastX)/S.width,O=(f.clientY-q.lastY)/S.height,I=performance.now();if(I-Y<100)q.velX=q.velX*0.5+H*0.5,q.velY=q.velY*0.5+O*0.5;if(Y=I,A.zoomMode!=="none"&&(A.zoomMode==="both"||A.zoomMode==="x-only"))A.view.panX-=H/A.view.zoomX;if(A.zoomMode!=="none"&&(A.zoomMode==="both"||A.zoomMode==="y-only"))A.view.panY+=O/A.view.zoomY;q.lastX=f.clientX,q.lastY=f.clientY,G()}else if(L.length===2){let S=L[1].clientX-L[0].clientX,H=L[1].clientY-L[0].clientY,I=Math.hypot(S,H)/Q;if(A.zoomMode!=="none"&&(A.zoomMode==="both"||A.zoomMode==="x-only")){let P=Math.max(K.MIN_ZOOM,Math.min(K.MAX_ZOOM,J*I)),T=A.view.panX+M/J;A.view.zoomX=P,A.view.panX=T-M/P}if(A.zoomMode!=="none"&&(A.zoomMode==="both"||A.zoomMode==="y-only")){let P=Math.max(K.MIN_ZOOM,Math.min(K.MAX_ZOOM,j*I)),T=A.view.panY+N/j;A.view.zoomY=P,A.view.panY=T-N/P}G()}},{signal:V.signal});let u=(f)=>{if(L=L.filter((_)=>_.pointerId!==f.pointerId),$.releasePointerCapture(f.pointerId),L.length===0&&A.dragging){if(A.dragging=!1,Math.abs(q.velX)>0.001||Math.abs(q.velY)>0.001)X()}};$.addEventListener("pointerup",u,{signal:V.signal}),$.addEventListener("pointercancel",u,{signal:V.signal}),$.addEventListener("pointerleave",U,{signal:V.signal});let b=0;$.addEventListener("pointerup",()=>{let f=Date.now();if(f-b<300)B.resetView(A.id);b=f},{signal:V.signal}),$.addEventListener("wheel",(f)=>{if(f.preventDefault(),A.momentum)cancelAnimationFrame(A.momentum),A.momentum=null;let _=$.getBoundingClientRect(),S=f.clientX-_.left,H=f.clientY-_.top,O=S/_.width,I=1-H/_.height,P=1-f.deltaY*0.002,T=K.MARGIN,m=S<T.left,D=H>_.height-T.bottom,k,R;if(m)k=!1,R=!0;else if(D)k=!0,R=!1;else k=A.zoomMode==="both"||A.zoomMode==="x-only",R=A.zoomMode==="both"||A.zoomMode==="y-only";if(k){let x=A.view.panX+O/A.view.zoomX;A.view.zoomX=Math.max(K.MIN_ZOOM,Math.min(K.MAX_ZOOM,A.view.zoomX*P)),A.view.panX=x-O/A.view.zoomX}if(R){let x=A.view.panY+I/A.view.zoomY;A.view.zoomY=Math.max(K.MIN_ZOOM,Math.min(K.MAX_ZOOM,A.view.zoomY*P)),A.view.panY=x-I/A.view.zoomY}if(k||R)G()},{passive:!1,signal:V.signal})},uninstall(A){let $=o.get(A);if($){if(A.momentum)cancelAnimationFrame(A.momentum),A.momentum=null;$.abort.abort(),o.delete(A)}}}}var B0=new WeakMap,l0=(z,Z,o,A,$,B,V,q)=>{z.beginPath(),z.roundRect(Z,o,A,$,B),z.fillStyle=V,z.fill(),z.strokeStyle=q,z.lineWidth=1.5,z.stroke()},E0={name:"hover",install(z,Z){let o=K.getInstance(),A=new AbortController,$={hoverResult:null,pillX:0,pillY:0,pillTargetX:0,pillTargetY:0,pillAnimRef:null,abort:A};B0.set(z,$);let B=(V)=>{if(z.config.onHover)z.config.onHover(V);if(!(z.config.showTooltip??!1))return;if($.hoverResult=V,o.drawChart(z),V&&!$.pillAnimRef){let q=performance.now(),L=(Y)=>{if(!$.hoverResult)return $.pillAnimRef=null;let Q=1-Math.pow(0.5,(Y-q)/(z.config.pillDecayMs??60));q=Y,$.pillX+=($.pillTargetX-$.pillX)*Q,$.pillY+=($.pillTargetY-$.pillY)*Q,o.drawChart(z),$.pillAnimRef=requestAnimationFrame(L)};$.pillAnimRef=requestAnimationFrame(L)}};Z.addEventListener("mousemove",(V)=>{if(z.dragging)return;let q=Z.getBoundingClientRect();B(z.findNearestPoint(V.clientX-q.left,V.clientY-q.top,q.width,q.height))},{signal:A.signal}),["mouseleave","pointerdown"].forEach((V)=>Z.addEventListener(V,()=>B(null),{signal:A.signal}))},afterDraw(z,Z){let o=B0.get(Z);if(!o?.hoverResult||!Z.config.showTooltip)return;let{hoverResult:A}=o,$=Z.width,B=Z.height,V=K.MARGIN,q=K.getInstance().isDark,{formatX:L=String,formatY:Y=String,fontFamily:Q=K.DEFAULT_FONT}=Z.config,J=(Z.bounds.maxX-Z.bounds.minX)/Z.view.zoomX,j=(Z.bounds.maxY-Z.bounds.minY)/Z.view.zoomY,M=(A.x-(Z.bounds.minX+Z.view.panX*(Z.bounds.maxX-Z.bounds.minX)))/J*$,N=B*(1-(A.y-(Z.bounds.minY+Z.view.panY*(Z.bounds.maxY-Z.bounds.minY)))/j),G=Z.series[A.seriesIndex]||Z.series[0],X=`${Math.round(G.color.r*255)},${Math.round(G.color.g*255)},${Math.round(G.color.b*255)}`,U=`rgb(${X})`,u=q?`oklch(from ${U} calc(l + 0.1) c h)`:U;z.save(),z.setLineDash([4,3]),z.strokeStyle=`rgba(${X},0.4)`,z.stroke(new Path2D(`M${M} 0V${B-V.bottom}M${V.left} ${N}H${$}`)),z.restore(),z.beginPath(),z.arc(M,N,4.5,0,Math.PI*2),z.fillStyle=U,z.fill(),z.strokeStyle=q?"rgba(0,0,0,0.6)":"rgba(255,255,255,0.9)",z.stroke();let b=Z.series.map((m)=>{let D=0,k=m.rawX.length-1;while(D<=k){let R=D+k>>1;if(Math.abs(m.rawX[R]-A.x)<0.0001)return{label:m.label,val:Y(m.rawY[R]),rawVal:m.rawY[R],col:`rgb(${Math.round(m.color.r*255)},${Math.round(m.color.g*255)},${Math.round(m.color.b*255)})`};m.rawX[R]<A.x?D=R+1:k=R-1}return null}).filter(Boolean);b.sort((m,D)=>Math.abs(D.rawVal)-Math.abs(m.rawVal));let f=b.length,_=b.slice(0,5),S=f-_.length;if(o.pillTargetX=M,o.pillTargetY=N,!o.pillAnimRef)o.pillX=M,o.pillY=N;let H=(m,D,k,R)=>{z.font=`600 10px ${Q}`;let x=z.measureText(k).width,d=x+12,e=18,c=R?m-d/2:m-d,i=R?D:D-e/2;z.save();let Z0=R?Math.atan((o.pillTargetX-o.pillX)/80)*0.2:Math.atan((o.pillTargetY-o.pillY)/80)*0.2;z.translate(m,D),z.rotate(Z0);let g=R?-d/2:-d,p=R?0:-e/2;z.beginPath(),z.roundRect(g,p,d,e,4),z.fillStyle=q?"rgba(0,0,0,0.75)":"rgba(255,255,255,0.75)",z.fill(),z.fillStyle=`rgba(${X},0.2)`,z.fill(),z.strokeStyle=u,z.lineWidth=1.5,z.stroke(),z.fillStyle=u,z.textAlign="center",z.textBaseline="middle",z.fillText(k,g+d/2,p+e/2),z.restore()};H(Math.max(V.left,Math.min($-V.right,o.pillX)),B-V.bottom+4,L(A.x),!0),H(Math.max(V.left,V.left),Math.max(9,Math.min(B-V.bottom-9,o.pillY)),Y(A.y),!1);let O=Math.max(..._.map((m)=>z.measureText(m.label+m.val).width))+40,I=30+_.length*18+(S>0?18:0),P=A.screenX+14,T=A.screenY-I-6;if(P+O>$)P=A.screenX-O-14;if(T=Math.max(4,Math.min(B-I-4,A.screenY-I-6)),l0(z,P,T,O,I,6,q?"rgba(28,28,30,0.95)":"rgba(255,255,255,0.96)","rgba(0,0,0,0.08)"),z.textAlign="left",z.textBaseline="middle",z.fillStyle=q?"#888":"#999",z.fillText(L(A.x),P+10,T+15),_.forEach((m,D)=>{let k=T+35+D*18;z.fillStyle=m.col,z.beginPath(),z.roundRect(P+10,k-4,8,8,2),z.fill(),z.fillStyle=q?"#eee":"#1a1a1a",z.fillText(`${m.label}: ${m.val}`,P+24,k)}),S>0){let m=T+35+_.length*18;z.fillStyle=q?"#666":"#aaa",z.fillText(`+${S} more`,P+10,m)}},uninstall(z){let Z=B0.get(z);if(Z?.pillAnimRef)cancelAnimationFrame(Z.pillAnimRef);Z?.abort.abort(),B0.delete(z)}};o0(R0);o0(U0());o0(E0);var a=16,X0=320,S0=240,M0=480,F0=320,n0=0.1,d0=4,i0=0.0015,Q0=[{name:"US GDP (1960–2024)",category:"GDP & Growth",url:"https://api.worldbank.org/v2/country/us/indicator/NY.GDP.MKTP.CD?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"China GDP (1960–2024)",category:"GDP & Growth",url:"https://api.worldbank.org/v2/country/cn/indicator/NY.GDP.MKTP.CD?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"India GDP (1960–2024)",category:"GDP & Growth",url:"https://api.worldbank.org/v2/country/in/indicator/NY.GDP.MKTP.CD?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"Japan GDP (1960–2024)",category:"GDP & Growth",url:"https://api.worldbank.org/v2/country/jp/indicator/NY.GDP.MKTP.CD?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"Germany GDP (1960–2024)",category:"GDP & Growth",url:"https://api.worldbank.org/v2/country/de/indicator/NY.GDP.MKTP.CD?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"Brazil GDP (1960–2024)",category:"GDP & Growth",url:"https://api.worldbank.org/v2/country/br/indicator/NY.GDP.MKTP.CD?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"Nigeria GDP (1960–2024)",category:"GDP & Growth",url:"https://api.worldbank.org/v2/country/ng/indicator/NY.GDP.MKTP.CD?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"US GDP per Capita",category:"GDP & Growth",url:"https://api.worldbank.org/v2/country/us/indicator/NY.GDP.PCAP.CD?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"China GDP Growth % (annual)",category:"GDP & Growth",url:"https://api.worldbank.org/v2/country/cn/indicator/NY.GDP.MKTP.KD.ZG?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"bar"},{name:"India GDP Growth % (annual)",category:"GDP & Growth",url:"https://api.worldbank.org/v2/country/in/indicator/NY.GDP.MKTP.KD.ZG?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"bar"},{name:"Bitcoin 1yr",category:"Crypto",url:"https://api.coingecko.com/api/v3/coins/bitcoin/market_chart?vs_currency=usd&days=365",transform:`const p = data.prices;
return { x: p.map((_, i) => i), y: p.map(d => d[1]) };`,type:"line"},{name:"Ethereum 1yr",category:"Crypto",url:"https://api.coingecko.com/api/v3/coins/ethereum/market_chart?vs_currency=usd&days=365",transform:`const p = data.prices;
return { x: p.map((_, i) => i), y: p.map(d => d[1]) };`,type:"line"},{name:"Solana 90d",category:"Crypto",url:"https://api.coingecko.com/api/v3/coins/solana/market_chart?vs_currency=usd&days=90",transform:`const p = data.prices;
return { x: p.map((_, i) => i), y: p.map(d => d[1]) };`,type:"line"},{name:"Dogecoin 90d",category:"Crypto",url:"https://api.coingecko.com/api/v3/coins/dogecoin/market_chart?vs_currency=usd&days=90",transform:`const p = data.prices;
return { x: p.map((_, i) => i), y: p.map(d => d[1]) };`,type:"line"},{name:"Cardano 90d",category:"Crypto",url:"https://api.coingecko.com/api/v3/coins/cardano/market_chart?vs_currency=usd&days=90",transform:`const p = data.prices;
return { x: p.map((_, i) => i), y: p.map(d => d[1]) };`,type:"line"},{name:"XRP 90d",category:"Crypto",url:"https://api.coingecko.com/api/v3/coins/ripple/market_chart?vs_currency=usd&days=90",transform:`const p = data.prices;
return { x: p.map((_, i) => i), y: p.map(d => d[1]) };`,type:"line"},{name:"Polkadot 90d",category:"Crypto",url:"https://api.coingecko.com/api/v3/coins/polkadot/market_chart?vs_currency=usd&days=90",transform:`const p = data.prices;
return { x: p.map((_, i) => i), y: p.map(d => d[1]) };`,type:"line"},{name:"Chainlink 90d",category:"Crypto",url:"https://api.coingecko.com/api/v3/coins/chainlink/market_chart?vs_currency=usd&days=90",transform:`const p = data.prices;
return { x: p.map((_, i) => i), y: p.map(d => d[1]) };`,type:"line"},{name:"BTC Volume 30d",category:"Crypto",url:"https://api.coingecko.com/api/v3/coins/bitcoin/market_chart?vs_currency=usd&days=30",transform:`const v = data.total_volumes;
return { x: v.map((_, i) => i), y: v.map(d => d[1]) };`,type:"bar"},{name:"ETH Volume 30d",category:"Crypto",url:"https://api.coingecko.com/api/v3/coins/ethereum/market_chart?vs_currency=usd&days=30",transform:`const v = data.total_volumes;
return { x: v.map((_, i) => i), y: v.map(d => d[1]) };`,type:"bar"},{name:"BTC Market Cap 1yr",category:"Crypto",url:"https://api.coingecko.com/api/v3/coins/bitcoin/market_chart?vs_currency=usd&days=365",transform:`const m = data.market_caps;
return { x: m.map((_, i) => i), y: m.map(d => d[1]) };`,type:"line"},{name:"World Population",category:"Population & Society",url:"https://api.worldbank.org/v2/country/wld/indicator/SP.POP.TOTL?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"India Population",category:"Population & Society",url:"https://api.worldbank.org/v2/country/in/indicator/SP.POP.TOTL?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"Japan Population (decline)",category:"Population & Society",url:"https://api.worldbank.org/v2/country/jp/indicator/SP.POP.TOTL?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"Nigeria Population (boom)",category:"Population & Society",url:"https://api.worldbank.org/v2/country/ng/indicator/SP.POP.TOTL?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"US Life Expectancy",category:"Population & Society",url:"https://api.worldbank.org/v2/country/us/indicator/SP.DYN.LE00.IN?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"Japan Life Expectancy",category:"Population & Society",url:"https://api.worldbank.org/v2/country/jp/indicator/SP.DYN.LE00.IN?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"Global Fertility Rate",category:"Population & Society",url:"https://api.worldbank.org/v2/country/wld/indicator/SP.DYN.TFRT.IN?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"Global Infant Mortality",category:"Population & Society",url:"https://api.worldbank.org/v2/country/wld/indicator/SP.DYN.IMRT.IN?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"US Unemployment %",category:"Population & Society",url:"https://api.worldbank.org/v2/country/us/indicator/SL.UEM.TOTL.NE.ZS?date=1991:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"South Africa Unemployment %",category:"Population & Society",url:"https://api.worldbank.org/v2/country/za/indicator/SL.UEM.TOTL.NE.ZS?date=1991:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"Global CO2 (kt)",category:"Energy & Emissions",url:"https://api.worldbank.org/v2/country/wld/indicator/EN.ATM.CO2E.KT?date=1960:2022&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"US CO2 per Capita",category:"Energy & Emissions",url:"https://api.worldbank.org/v2/country/us/indicator/EN.ATM.CO2E.PC?date=1960:2022&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"China CO2 per Capita",category:"Energy & Emissions",url:"https://api.worldbank.org/v2/country/cn/indicator/EN.ATM.CO2E.PC?date=1960:2022&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"Global Renewable Energy %",category:"Energy & Emissions",url:"https://api.worldbank.org/v2/country/wld/indicator/EG.FEC.RNEW.ZS?date=1990:2022&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"Global Electricity Access %",category:"Energy & Emissions",url:"https://api.worldbank.org/v2/country/wld/indicator/EG.ELC.ACCS.ZS?date=1990:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"India Electricity Access %",category:"Energy & Emissions",url:"https://api.worldbank.org/v2/country/in/indicator/EG.ELC.ACCS.ZS?date=1990:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"Brazil Forest Area %",category:"Energy & Emissions",url:"https://api.worldbank.org/v2/country/br/indicator/AG.LND.FRST.ZS?date=1990:2022&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"Global Internet Users %",category:"Technology & Trade",url:"https://api.worldbank.org/v2/country/wld/indicator/IT.NET.USER.ZS?date=1990:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"China Mobile Subscriptions / 100",category:"Technology & Trade",url:"https://api.worldbank.org/v2/country/cn/indicator/IT.CEL.SETS.P2?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"India Internet Users %",category:"Technology & Trade",url:"https://api.worldbank.org/v2/country/in/indicator/IT.NET.USER.ZS?date=1990:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"US R&D Spending % GDP",category:"Technology & Trade",url:"https://api.worldbank.org/v2/country/us/indicator/GB.XPD.RSDV.GD.ZS?date=1996:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"South Korea R&D % GDP",category:"Technology & Trade",url:"https://api.worldbank.org/v2/country/kr/indicator/GB.XPD.RSDV.GD.ZS?date=1996:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"US Military Spending % GDP",category:"Technology & Trade",url:"https://api.worldbank.org/v2/country/us/indicator/MS.MIL.XPND.GD.ZS?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"Global Trade % of GDP",category:"Technology & Trade",url:"https://api.worldbank.org/v2/country/wld/indicator/NE.TRD.GNFS.ZS?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"US Inflation (CPI %)",category:"Technology & Trade",url:"https://api.worldbank.org/v2/country/us/indicator/FP.CPI.TOTL.ZG?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"line"},{name:"Argentina Inflation (CPI %)",category:"Technology & Trade",url:"https://api.worldbank.org/v2/country/ar/indicator/FP.CPI.TOTL.ZG?date=1960:2024&format=json&per_page=100",transform:`const items = data[1].filter(d => d.value != null).reverse();
return { x: items.map(d => parseInt(d.date)), y: items.map(d => d.value) };`,type:"bar"},{name:"SF Bay Temp (10yr daily)",category:"Climate & Weather",url:"https://power.larc.nasa.gov/api/temporal/daily/point?parameters=T2M&community=SB&longitude=-122.4&latitude=37.8&start=20150101&end=20241231&format=JSON",transform:`const temps = data.properties.parameter.T2M;
const entries = Object.entries(temps).filter(([k, v]) => v !== -999);
return { x: entries.map((_, i) => i), y: entries.map(([k, v]) => v) };`,type:"line"},{name:"Tokyo Temp (10yr daily)",category:"Climate & Weather",url:"https://power.larc.nasa.gov/api/temporal/daily/point?parameters=T2M&community=SB&longitude=139.7&latitude=35.7&start=20150101&end=20241231&format=JSON",transform:`const temps = data.properties.parameter.T2M;
const entries = Object.entries(temps).filter(([k, v]) => v !== -999);
return { x: entries.map((_, i) => i), y: entries.map(([k, v]) => v) };`,type:"line"},{name:"Death Valley Temp (10yr)",category:"Climate & Weather",url:"https://power.larc.nasa.gov/api/temporal/daily/point?parameters=T2M&community=SB&longitude=-116.8&latitude=36.5&start=20150101&end=20241231&format=JSON",transform:`const temps = data.properties.parameter.T2M;
const entries = Object.entries(temps).filter(([k, v]) => v !== -999);
return { x: entries.map((_, i) => i), y: entries.map(([k, v]) => v) };`,type:"line"},{name:"Antarctica Temp (10yr)",category:"Climate & Weather",url:"https://power.larc.nasa.gov/api/temporal/daily/point?parameters=T2M&community=SB&longitude=0&latitude=-85&start=20150101&end=20241231&format=JSON",transform:`const temps = data.properties.parameter.T2M;
const entries = Object.entries(temps).filter(([k, v]) => v !== -999);
return { x: entries.map((_, i) => i), y: entries.map(([k, v]) => v) };`,type:"line"},{name:"Sahara Solar Radiation (10yr)",category:"Climate & Weather",url:"https://power.larc.nasa.gov/api/temporal/daily/point?parameters=ALLSKY_SFC_SW_DWN&community=SB&longitude=3&latitude=23.5&start=20150101&end=20241231&format=JSON",transform:`const param = data.properties.parameter.ALLSKY_SFC_SW_DWN;
const entries = Object.entries(param).filter(([k, v]) => v !== -999);
return { x: entries.map((_, i) => i), y: entries.map(([k, v]) => v) };`,type:"line"},{name:"London Solar Radiation (10yr)",category:"Climate & Weather",url:"https://power.larc.nasa.gov/api/temporal/daily/point?parameters=ALLSKY_SFC_SW_DWN&community=SB&longitude=-0.12&latitude=51.5&start=20150101&end=20241231&format=JSON",transform:`const param = data.properties.parameter.ALLSKY_SFC_SW_DWN;
const entries = Object.entries(param).filter(([k, v]) => v !== -999);
return { x: entries.map((_, i) => i), y: entries.map(([k, v]) => v) };`,type:"line"},{name:"Reykjavik Wind Speed (10yr)",category:"Climate & Weather",url:"https://power.larc.nasa.gov/api/temporal/daily/point?parameters=WS10M&community=SB&longitude=-21.9&latitude=64.1&start=20150101&end=20241231&format=JSON",transform:`const param = data.properties.parameter.WS10M;
const entries = Object.entries(param).filter(([k, v]) => v !== -999);
return { x: entries.map((_, i) => i), y: entries.map(([k, v]) => v) };`,type:"line"},{name:"Mumbai Humidity (10yr)",category:"Climate & Weather",url:"https://power.larc.nasa.gov/api/temporal/daily/point?parameters=RH2M&community=SB&longitude=72.9&latitude=19.1&start=20150101&end=20241231&format=JSON",transform:`const param = data.properties.parameter.RH2M;
const entries = Object.entries(param).filter(([k, v]) => v !== -999);
return { x: entries.map((_, i) => i), y: entries.map(([k, v]) => v) };`,type:"line"},{name:"Denver Precipitation (10yr)",category:"Climate & Weather",url:"https://power.larc.nasa.gov/api/temporal/daily/point?parameters=PRECTOTCORR&community=SB&longitude=-104.9&latitude=39.7&start=20150101&end=20241231&format=JSON",transform:`const param = data.properties.parameter.PRECTOTCORR;
const entries = Object.entries(param).filter(([k, v]) => v !== -999);
return { x: entries.map((_, i) => i), y: entries.map(([k, v]) => v) };`,type:"bar"},{name:"Earthquakes (30d scatter)",category:"Seismology",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_month.geojson",transform:`const f = data.features.filter(f => f.properties.mag != null);
f.sort((a, b) => a.properties.time - b.properties.time);
const t0 = f[0]?.properties.time || 0;
return {
  x: f.map(f => (f.properties.time - t0) / 3600000),
  y: f.map(f => f.properties.mag)
};`,type:"scatter"},{name:"Earthquake Depth vs Mag",category:"Seismology",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_month.geojson",transform:`const f = data.features.filter(f => f.properties.mag != null && f.geometry.coordinates[2] > 0);
return {
  x: f.map(f => f.geometry.coordinates[2]),
  y: f.map(f => f.properties.mag)
};`,type:"scatter"},{name:"Quake Lat vs Lng (plate map)",category:"Seismology",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_month.geojson",transform:`const f = data.features.filter(f => f.properties.mag != null);
return {
  x: f.map(f => f.geometry.coordinates[0]),
  y: f.map(f => f.geometry.coordinates[1])
};`,type:"scatter"},{name:"Significant Quakes (30d)",category:"Seismology",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/significant_month.geojson",transform:`const f = data.features.filter(f => f.properties.mag != null);
f.sort((a, b) => a.properties.time - b.properties.time);
return {
  x: f.map((_, i) => i),
  y: f.map(f => f.properties.mag)
};`,type:"bar"},{name:"M4.5+ Quakes (30d)",category:"Seismology",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/4.5_month.geojson",transform:`const f = data.features.filter(f => f.properties.mag != null);
f.sort((a, b) => a.properties.time - b.properties.time);
const t0 = f[0]?.properties.time || 0;
return {
  x: f.map(f => (f.properties.time - t0) / 3600000),
  y: f.map(f => f.properties.mag)
};`,type:"scatter"},{name:"Random Walk (100k)",category:"Synthetic",url:"",transform:`const n = 100000;
const x = new Array(n), y = new Array(n);
let v = 0;
for (let i = 0; i < n; i++) { x[i] = i; v += (Math.random() - 0.498) * 2; y[i] = v; }
return { x, y };`,type:"line"},{name:"Random Walk (1M)",category:"Synthetic",url:"",transform:`const n = 1000000;
const x = new Array(n), y = new Array(n);
let v = 0;
for (let i = 0; i < n; i++) { x[i] = i; v += (Math.random() - 0.498) * 2; y[i] = v; }
return { x, y };`,type:"line"},{name:"Sine Waves (10k)",category:"Synthetic",url:"",transform:`const n = 10000;
const x = new Array(n), y = new Array(n);
for (let i = 0; i < n; i++) { x[i] = i; y[i] = Math.sin(i * 0.01) + Math.sin(i * 0.03) * 0.5; }
return { x, y };`,type:"line"},{name:"Noise Cloud (50k)",category:"Synthetic",url:"",transform:`const n = 50000;
const x = new Array(n), y = new Array(n);
for (let i = 0; i < n; i++) {
  const a = Math.random() * Math.PI * 2;
  const r = Math.sqrt(-2 * Math.log(Math.random()));
  x[i] = Math.cos(a) * r; y[i] = Math.sin(a) * r;
}
return { x, y };`,type:"scatter"},{name:"Deadmau5 (10M)",category:"Synthetic",url:"",transform:`const N = 10000000, x = new Array(N), y = new Array(N);
const rp = (cx, cy, r) => {
  const a = Math.random() * 6.2832, d = Math.sqrt(Math.random()) * r;
  return [cx + Math.cos(a) * d, cy + Math.sin(a) * d];
};
let i = 0;
while (i < N) {
  let p, s = Math.random();
  if (s < 0.5) {
    p = rp(0, 0, 5);
    const lx = p[0] + 1.7, ly = p[1] - 0.8, rx = p[0] - 1.7, ry = p[1] - 0.8;
    if (lx * lx + ly * ly < 1.44 || rx * rx + ry * ry < 1.44) continue;
    const sd = p[0] * p[0] + (p[1] + 1) * (p[1] + 1);
    if (p[1] < -1 && sd > 5.76 && sd < 9 && Math.abs(p[0]) < 2.8) continue;
  } else if (s < 0.75) { p = rp(-3.8, 5.8, 3); }
  else { p = rp(3.8, 5.8, 3); }
  x[i] = p[0]; y[i] = p[1]; i++;
}
return { x, y };`,type:"scatter"},{name:"Spiral Galaxy (5M)",category:"Synthetic",url:"",transform:`const N = 5000000, x = new Array(N), y = new Array(N);
for (let i = 0; i < N; i++) {
  const arm = (Math.random() * 4) | 0;
  const d = Math.sqrt(Math.random()) * 12;
  const a = d * 0.7 + arm * 1.5708 + (Math.random() - 0.5) * (0.4 + d * 0.04);
  x[i] = Math.cos(a) * d;
  y[i] = Math.sin(a) * d;
}
return { x, y };`,type:"scatter"},{name:"Heart (2M)",category:"Synthetic",url:"",transform:`const N = 2000000, x = new Array(N), y = new Array(N);
let i = 0;
while (i < N) {
  const px = (Math.random() - 0.5) * 36, py = (Math.random() - 0.5) * 34;
  const nx = px / 16, ny = (py - 3) / 16;
  const v = nx * nx + ny * ny - 1;
  if (v * v * v - nx * nx * ny * ny * ny <= 0) { x[i] = px; y[i] = py; i++; }
}
return { x, y };`,type:"scatter"},{name:"Lissajous (500k)",category:"Synthetic",url:"",transform:`const N = 500000, x = new Array(N), y = new Array(N);
for (let i = 0; i < N; i++) {
  const t = i * 0.0001 + Math.random() * 0.02;
  x[i] = Math.sin(3 * t + 0.5) + (Math.random() - 0.5) * 0.05;
  y[i] = Math.sin(5 * t) + (Math.random() - 0.5) * 0.05;
}
return { x, y };`,type:"scatter"}],w,v=[],I0=1,l=0,n=0,W=1,C,z0,h,F=null,L0=null,A0=null,P0=0,k0=0;function E(z){return Math.round(z/a)*a}function x0(z,Z){return z.x<Z.x+Z.w&&z.x+z.w>Z.x&&z.y<Z.y+Z.h&&z.y+z.h>Z.y}function y(z,Z){for(let o of v){if(o.id===Z)continue;if(x0(z,o))return!0}return!1}function p0(z,Z){let o=C.getBoundingClientRect();return{x:(z-o.left-l)/W,y:(Z-o.top-n)/W}}function s0(z,Z,o){let A=(1-Math.abs(2*o-1))*Z,$=A*(1-Math.abs(z/60%2-1)),B=o-A/2,V=0,q=0,L=0;if(z<60)V=A,q=$;else if(z<120)V=$,q=A;else if(z<180)q=A,L=$;else if(z<240)q=$,L=A;else if(z<300)V=$,L=A;else V=A,L=$;return{r:V+B,g:q+B,b:L+B}}function K0(){return s0(Math.random()*360,0.6+Math.random()*0.2,0.5+Math.random()*0.15)}function h0(){let Z=new Array(1000),o=new Array(1000),A=50;for(let $=0;$<1000;$++)Z[$]=$,A+=(Math.random()-0.498)*3,o[$]=A;return{x:Z,y:o}}function e0(z){if(Math.abs(z)>=1e6)return(z/1e6).toFixed(1)+"M";if(Math.abs(z)>=1000)return(z/1000).toFixed(1)+"k";if(Math.abs(z)>=100)return z.toFixed(0);if(Math.abs(z)>=10)return z.toFixed(1);return z.toFixed(2)}function c0(z){return Math.round(z).toString()}function t0(z){if(z>=1e6)return(z/1e6).toFixed(1)+"M";if(z>=1000)return(z/1000).toFixed(0)+"k";return z.toString()}var H0=document.createElement("canvas").getContext("2d");function r0(z,Z){return H0.font=Z,H0.measureText(z||" ").width}function j0(){z0.style.transform=`translate(${l}px, ${n}px) scale(${W})`;let z=24*W;C.style.backgroundSize=`${z}px ${z}px`,C.style.backgroundPosition=`${l%z}px ${n%z}px`}var T0=0;function a0(){let z=document.getElementById("zoom-indicator");z.textContent=Math.round(W*100)+"%",z.classList.add("visible"),clearTimeout(T0),T0=window.setTimeout(()=>z.classList.remove("visible"),800)}function z5(){C=document.getElementById("viewport"),z0=document.getElementById("canvas"),h=document.getElementById("context-menu"),C.addEventListener("wheel",(z)=>{z.preventDefault();let Z=-z.deltaY*i0,o=Math.min(d0,Math.max(n0,W*(1+Z))),A=C.getBoundingClientRect(),$=z.clientX-A.left,B=z.clientY-A.top;l=$-($-l)/W*o,n=B-(B-n)/W*o,W=o,j0(),a0()},{passive:!1}),C.addEventListener("mousedown",(z)=>{if(J0(),A5(),z.button!==0)return;let Z=z.target;if(Z!==C&&Z!==z0&&!Z.classList.contains("vignette"))return;z.preventDefault(),F={type:"pan",startMX:z.clientX,startMY:z.clientY,startX:0,startY:0,startW:0,startH:0,startPanX:l,startPanY:n},C.classList.add("grabbing")}),window.addEventListener("mousemove",Z5),window.addEventListener("mouseup",$5),C.addEventListener("contextmenu",(z)=>{z.preventDefault();let Z=z.target;if(Z!==C&&Z!==z0&&!Z.classList.contains("vignette"))return;let o=p0(z.clientX,z.clientY);P0=E(o.x),k0=E(o.y),h.style.left=z.clientX+"px",h.style.top=z.clientY+"px",h.classList.add("open")}),h.querySelectorAll("button[data-type]").forEach((z)=>{z.addEventListener("click",()=>{let Z=z.dataset.type;m0(Z,P0,k0),J0()})}),document.addEventListener("mousedown",(z)=>{if(!z.target.closest(".context-menu"))J0()}),j0()}function J0(){h.classList.remove("open")}function A5(){document.getElementById("add-menu").classList.remove("open")}function Z5(z){if(!F)return;z.preventDefault();let Z=z.clientX-F.startMX,o=z.clientY-F.startMY;if(F.type==="pan"){l=F.startPanX+Z,n=F.startPanY+o,j0();return}if(F.type==="drag"&&F.chart){let A=F.chart,$=E(F.startX+Z/W),B=E(F.startY+o/W),V={x:$,y:B,w:A.w,h:A.h};if(!y(V,A.id))A.x=$,A.y=B;else{let q=!y({x:$,y:A.y,w:A.w,h:A.h},A.id),L=!y({x:A.x,y:B,w:A.w,h:A.h},A.id);if(q)A.x=$;if(L)A.y=B}D0(A);return}if(F.type==="resize"&&F.chart){let{chart:A,handle:$}=F,B=A.x,V=A.y,q=A.w,L=A.h,Y=Z/W,Q=o/W;if($.includes("e"))q=E(Math.max(X0,F.startW+Y));if($.includes("w")){let j=E(Math.max(X0,F.startW-Y));B=E(F.startX+(F.startW-j)),q=j}if($.includes("s"))L=E(Math.max(S0,F.startH+Q));if($.includes("n")){let j=E(Math.max(S0,F.startH-Q));V=E(F.startY+(F.startH-j)),L=j}if(!y({x:B,y:V,w:q,h:L},A.id))A.x=B,A.y=V,A.w=q,A.h=L;else{let j={x:B,y:A.y,w:q,h:A.h},M={x:A.x,y:V,w:A.w,h:L};if(!y(j,A.id))A.x=B,A.w=q;if(!y(M,A.id))A.y=V,A.h=L}D0(A),q5(A);return}}function $5(z){if(!F)return;if(F.type==="pan")C.classList.remove("grabbing");if(F.type==="drag"&&F.chart)F.chart.el.classList.remove("dragging");if(F.type==="resize"&&F.chart)F.chart.el.classList.remove("resizing");F=null}function f0(z,Z){let o=C.getBoundingClientRect(),A=E((-l+o.width/2)/W-z/2),$=E((-n+o.height/2)/W-Z/2);if(!y({x:A,y:$,w:z,h:Z}))return{x:A,y:$};for(let B=a;B<4000;B+=a)for(let V=-B;V<=B;V+=a){if(!y({x:A+V,y:$-B,w:z,h:Z}))return{x:A+V,y:$-B};if(!y({x:A+V,y:$+B,w:z,h:Z}))return{x:A+V,y:$+B};if(!y({x:A-B,y:$+V,w:z,h:Z}))return{x:A-B,y:$+V};if(!y({x:A+B,y:$+V,w:z,h:Z}))return{x:A+B,y:$+V}}return{x:A,y:$}}function m0(z,Z,o){let A="tile-"+I0++,$=E(M0),B=E(F0),V=E(Z-$/2),q=E(o-B/2);if(y({x:V,y:q,w:$,h:B})){let G=f0($,B);V=G.x,q=G.y}let L={id:A,chartId:"",name:"Chart "+(I0-1),x:V,y:q,w:$,h:B,type:z,el:null},Y=B5(L);L.el=Y,z0.appendChild(Y),v.push(L);let Q=Y.querySelector(".tile-body"),J=document.getElementById("series-count"),j=Math.max(1,Math.min(100,parseInt(J?.value||"3"))),M=[];for(let G=0;G<j;G++){let X=h0(),U=K0();M.push({label:`Series ${String.fromCharCode(65+G)}`,color:U,x:X.x,y:X.y})}let N={type:z,container:Q,series:M,formatX:c0,formatY:e0,zoomMode:"both",showTooltip:!0,bgColor:[0.055,0.055,0.086],textColor:"#8888a0",gridColor:"#262638"};try{L.chartId=w.create(N)}catch(G){console.error("Failed to create chart:",G),Y.remove(),v.splice(v.indexOf(L),1);return}}function q0(z){let Z=E(M0),o=E(F0),A=f0(Z,o);m0(z,A.x+Z/2,A.y+o/2)}function O0(z){let Z=v.findIndex((A)=>A.id===z);if(Z<0)return;let o=v[Z];if(o.chartId)w.destroy(o.chartId);o.el.remove(),v.splice(Z,1)}function o5(){for(let z of[...v])O0(z.id)}function V5(z){let o=()=>{let A=r0(z.value,"600 13px -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif");z.style.width=Math.max(20,Math.ceil(A)+14)+"px"};return z.addEventListener("input",o),z.addEventListener("blur",o),o(),o}function B5(z){let Z=document.createElement("div");Z.className="chart-tile",Z.dataset.tileId=z.id,Z.style.left=z.x+"px",Z.style.top=z.y+"px",Z.style.width=z.w+"px",Z.style.height=z.h+"px";let o=z.type.charAt(0).toUpperCase()+z.type.slice(1),A=z.type==="scatter"?`<div class="tile-point-size">
        <input type="range" min="1" max="12" value="3" class="point-size-slider" title="Point size">
        <span class="point-size-label">3px</span>
      </div>`:"";Z.innerHTML=`
    <div class="tile-header">
      <input class="tile-name" value="${z.name}" spellcheck="false" />
      <div class="tile-tools">
        <span class="tile-type">${o}</span>
        <span class="tile-points">1k</span>
        ${A}
        <button class="tile-btn" data-action="reset" title="Reset view">&#x2318;</button>
        <button class="tile-btn" data-action="data" title="Load data source">
          <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M8 3v8M5 8l3 3 3-3"/>
            <path d="M3 12h10"/>
          </svg>
        </button>
        <button class="tile-btn danger" data-action="close" title="Remove chart">&times;</button>
      </div>
    </div>
    <div class="tile-body"></div>
    <div class="resize-handle resize-n" data-handle="n"></div>
    <div class="resize-handle resize-s" data-handle="s"></div>
    <div class="resize-handle resize-e" data-handle="e"></div>
    <div class="resize-handle resize-w" data-handle="w"></div>
    <div class="resize-handle resize-ne" data-handle="ne"></div>
    <div class="resize-handle resize-nw" data-handle="nw"></div>
    <div class="resize-handle resize-se" data-handle="se"></div>
    <div class="resize-handle resize-sw" data-handle="sw"></div>
  `,Z.addEventListener("wheel",(Y)=>Y.stopPropagation());let $=Z.querySelector(".tile-name"),B=V5($);$.addEventListener("input",()=>{z.name=$.value}),$.addEventListener("mousedown",(Y)=>Y.stopPropagation()),Z._resizeName=B;let V=Z.querySelector(".point-size-slider"),q=Z.querySelector(".point-size-label");if(V&&q)V.addEventListener("input",()=>{let Y=parseInt(V.value);if(q.textContent=Y+"px",z.chartId)w.setPointSize(z.chartId,Y)}),V.addEventListener("mousedown",(Y)=>Y.stopPropagation());return Z.querySelector(".tile-header").addEventListener("mousedown",(Y)=>{let Q=Y.target;if(Q.tagName==="INPUT"||Q.tagName==="BUTTON"||Q.closest("button"))return;if(Y.button!==0)return;Y.preventDefault(),Y.stopPropagation(),Z.classList.add("dragging"),F={type:"drag",chart:z,startMX:Y.clientX,startMY:Y.clientY,startX:z.x,startY:z.y,startW:z.w,startH:z.h,startPanX:l,startPanY:n}}),Z.querySelectorAll(".resize-handle").forEach((Y)=>{Y.addEventListener("mousedown",(Q)=>{Q.preventDefault(),Q.stopPropagation();let J=Y.dataset.handle;Z.classList.add("resizing"),F={type:"resize",chart:z,handle:J,startMX:Q.clientX,startMY:Q.clientY,startX:z.x,startY:z.y,startW:z.w,startH:z.h,startPanX:l,startPanY:n}})}),Z.addEventListener("click",(Y)=>{let Q=Y.target.closest("[data-action]");if(!Q)return;let J=Q.dataset.action;if(J==="close")O0(z.id);if(J==="data")L5(z);if(J==="reset"&&z.chartId)w.resetView(z.chartId)}),Z}function C0(z,Z){let o=z.el.querySelector(".tile-points");if(o)o.textContent=t0(Z)}function D0(z){z.el.style.left=z.x+"px",z.el.style.top=z.y+"px"}function q5(z){z.el.style.width=z.w+"px",z.el.style.height=z.h+"px"}function L5(z){L0=z,A0=null;let Z=document.getElementById("data-modal"),o=document.getElementById("data-url"),A=document.getElementById("data-transform"),$=document.getElementById("data-error");o.value="",A.value="",$.classList.add("hidden"),$.textContent="";let B=document.getElementById("presets");B.innerHTML="";let V=[],q=new Map;for(let L of Q0){if(!q.has(L.category))V.push(L.category),q.set(L.category,[]);q.get(L.category).push(L)}for(let L of V){let Y=document.createElement("div");Y.className="preset-category";let Q=document.createElement("div");Q.className="preset-category-header",Q.textContent=L,Y.appendChild(Q);let J=document.createElement("div");J.className="preset-category-items";for(let j of q.get(L)){let M=document.createElement("button");M.className="preset-btn",M.textContent=j.name,M.addEventListener("click",()=>{o.value=j.url,A.value=j.transform,A0=j.name,$.classList.add("hidden"),B.querySelectorAll(".preset-btn").forEach((N)=>N.classList.remove("active")),M.classList.add("active")}),J.appendChild(M)}Y.appendChild(J),B.appendChild(Y)}Z.classList.add("open")}async function Y5(z,Z){try{let o=null;if(Z.url){let V=await fetch(Z.url);if(!V.ok)throw new Error(`Fetch failed: HTTP ${V.status}`);o=await V.json()}let $=new Function("data","url",Z.transform)(o,Z.url);if(!$||!Array.isArray($.x)||!Array.isArray($.y))return;if($.x.length===0)return;w.updateSeries(z.chartId,[{label:Z.name,color:K0(),x:$.x,y:$.y}]),w.resetView(z.chartId),C0(z,$.x.length),z.name=Z.name;let B=z.el.querySelector(".tile-name");if(B){B.value=z.name;let V=z.el._resizeName;if(V)V()}}catch(o){console.warn(`Failed to load preset "${Z.name}":`,o)}}function r(){document.getElementById("data-modal").classList.remove("open"),L0=null,A0=null}async function J5(){if(!L0)return;let z=L0,Z=document.getElementById("data-url").value.trim(),o=document.getElementById("data-transform").value.trim(),A=document.getElementById("data-error");if(A.classList.add("hidden"),!o){A.textContent="Please provide a transform function.",A.classList.remove("hidden");return}try{let $=null;if(Z){let L=await fetch(Z);if(!L.ok)throw new Error(`Fetch failed: HTTP ${L.status} ${L.statusText}`);$=await L.json()}let V=new Function("data","url",o)($,Z);if(!V||!Array.isArray(V.x)||!Array.isArray(V.y))throw new Error("Transform must return { x: number[], y: number[] }");if(V.x.length!==V.y.length)throw new Error(`x and y arrays must be same length (got ${V.x.length} and ${V.y.length})`);if(V.x.length===0)throw new Error("Returned data is empty");if(w.updateSeries(z.chartId,[{label:z.name,color:K0(),x:V.x,y:V.y}]),w.resetView(z.chartId),C0(z,V.x.length),/^Chart \d+$/.test(z.name)&&A0){z.name=A0;let L=z.el.querySelector(".tile-name");if(L){L.value=z.name;let Y=z.el._resizeName;if(Y)Y()}}r()}catch($){A.textContent=$.message||String($),A.classList.remove("hidden")}}function Q5(){document.getElementById("modal-close").addEventListener("click",r),document.getElementById("data-cancel").addEventListener("click",r),document.getElementById("data-load").addEventListener("click",J5),document.getElementById("data-modal").addEventListener("mousedown",(z)=>{if(z.target.classList.contains("modal-overlay"))r()}),document.addEventListener("keydown",(z)=>{if(z.key==="Escape"){if(document.getElementById("data-modal").classList.contains("open"))r()}})}var W0=0;function j5(z,Z="error"){let o=document.getElementById("toast");o.textContent=z,o.style.background=Z==="success"?"var(--success)":"var(--danger)",o.classList.remove("hidden"),clearTimeout(W0),W0=window.setTimeout(()=>o.classList.add("hidden"),3000)}function M5(){let z=document.getElementById("add-btn"),Z=document.getElementById("add-menu");z.addEventListener("click",($)=>{$.stopPropagation(),Z.classList.toggle("open")}),Z.querySelectorAll("button[data-type]").forEach(($)=>{$.addEventListener("click",()=>{let B=$.dataset.type;q0(B),Z.classList.remove("open")})}),document.addEventListener("mousedown",($)=>{if(!$.target.closest("#add-dropdown"))Z.classList.remove("open")});let o=document.getElementById("sync-toggle"),A=document.getElementById("sync-label");o.addEventListener("change",()=>{let $=o.checked;w.setSyncViews($),A.textContent=$?"Synced":"Sync Off"}),document.getElementById("add-random-5").addEventListener("click",()=>{let $=["line","scatter","bar"];for(let B=0;B<5;B++){let V=Q0[Math.floor(Math.random()*Q0.length)],q=V.type||$[Math.floor(Math.random()*$.length)],L=E(M0),Y=E(F0),Q=f0(L,Y);m0(q,Q.x+L/2,Q.y+Y/2);let J=v[v.length-1];if(J)Y5(J,V)}}),document.getElementById("clear-all").addEventListener("click",o5)}function F5(){let z=0,Z=new MessageChannel,o=0,A=0;Z.port1.onmessage=()=>{z=performance.now()-o;let B=performance.now();if(B-A>=120){A=B;let V=(q)=>q<1?q.toFixed(2)+"ms":q.toFixed(1)+"ms";document.getElementById("main-ms").textContent=V(z)}};function $(){requestAnimationFrame(()=>{o=performance.now(),Z.port2.postMessage(null),$()})}$()}function K5(){w.onStats((z)=>{document.getElementById("active").textContent=z.active.toString(),document.getElementById("total").textContent=z.total.toString()})}async function f5(){if(w=K.getInstance(),!await w.init()){j5("WebGPU not available. Please use a supported browser.","error");return}w.setTheme(!0),z5(),M5(),Q5(),F5(),K5(),setTimeout(()=>{q0("line"),q0("scatter"),q0("bar")},100)}if(location.hostname==="localhost"||location.hostname==="127.0.0.1"){let z=new WebSocket(`ws://${location.host}/__hot`);z.onmessage=(Z)=>{if(Z.data==="reload")location.reload()}}f5();
